{% extends 'base.html.twig' %}

{% block body %}
    {% if app.user  %}
        {% if  app.user.id == app.request.get("id") %}
            <h2> Modification des données personnelles </h2>

            <div class="form-group">
                <label for="">Nom</label>
                {{ form_widget(formUser.name) }}
            </div>

            <div class="form-group">
                <label for="">Prénom</label>
                {{ form_widget(formUser.firstname) }}
            </div>

            <div class="form-group">
                <label for="">Date de naissance</label>
                {{ form_widget(formUser.birthday) }}
            </div>

            <div class="form-group">
                <label for="">Grade</label>
                {{ form_widget(formUser.belt) }}
            </div>

            <div class="form-group">
                <label for="">Date d'obtention</label>
                {{ form_widget(formUser.receiptDate) }}
            </div>

            <div class="form-group">
                <label for="">Genre</label>
                <select name="Genre">
                    <option value="Male">Homme</option>
                    <option value="Female">Femme</option>
                </select>
            </div>

            <h3> <br>Téléphones</h3>

            {% for phone in phones %}
                <div class="phone">
                    <div class="row">
                        <div class="col-2">
                            <br> {{ phone.type }}
                        </div>
                        <div class="col">
                             <br> {{ phone.num}}
                        </div>
                        <div class="col">
                            <br> <button type="submit" class="btn btn-success">
                                <small>Supprimer numéro</small>
                            </button>
                        </div>
                    </div>
                </div>
            {% endfor %}

            <h4> <br>Nouveau numéro</h4>
{#
            <select name="Type">
                <option value="Domicile">Domicile</option>
                <option value="Portable">Portable</option>
                <option value="Travaille">Travail</option>
            </select>
#}          <div class = "phone">
                <div class="row">
                    <div class="col-2">
                         Type :
                        {{ form_widget(phoneForm.type,  {'attr':{
                            'placeholder':"Domicile, travail..."
                        }}) }}
                    </div>
                    <div class="col">
                        Numéro :
                        {{ form_widget(phoneForm.num,  {'attr':{
                            'placeholder':"Votre nouveau numéro..."
                        }}) }}
                    </div>
                </div>
            </div>

            {#Affiche adresses#}
            <h3> <br>Adresses</h3>

            {% for adress in adress %}
                <div class="adress">
                    <div class="row">
                        <div class="col-2">
                            <br> {{ adress.type }}
                        </div>
                        <div class="col">
                            <br> {{ adress.num}}
                        </div>
                        <div class="col">
                            <br> {{ adress.streetName}}
                        </div>
                        <div class="col">
                            <br> {{ adress.city.cityName}}
                            ({{ adress.city.zip}})
                        </div>
                        <div class="col">
                            <br> {{ adress.city.country.countryName}}
                        </div>
                        <div class="col">
                            <br> <button type="submit" class="btn btn-success">
                                <small>Supprimer adresse</small>
                            </button>
                        </div>
                    </div>
                </div>
            {% endfor %}

            <h4> <br>Nouvelle adresse</h4>
            <div>
            <br> Type :{{ form_widget(adressForm.type) }}
            N°:{{ form_widget(adressForm.num) }}
            Rue : {{ form_widget(adressForm.streetName) }}
            <div class="row">
                <div class="col-2">
                    Code Postal: {{ (form_widget(cityForm.zip) ) }}
                </div>
                <div class="col">
                    Ville : {{ form_widget(cityForm.cityName)}}
                </div>
                <div class="col">
                    Pays : {{ form_widget(cityForm.country)}}
                </div>
            </div>


                <br><button type="submit" class="btn btn-success">
                  Enregister modification(s)
            </button>
            </div>
        {% else %}
            <h2> Vous n'êtes pas autorisé à accéder à cette page </h2>
            <a href="{{ path('security_logout') }}" class="btn-btn-primary">
                Déconnexion ?
            </a>
        {% endif %}
    {% else %}
        <h2>Vous n'êtes pas connecté !</h2>
        <a href="{{ path('security_login') }}" class="btn-btn-primary">
            Connexion
        </a>
    {% endif %}


{% endblock %}